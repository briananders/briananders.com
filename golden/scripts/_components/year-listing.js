!function r(o,i,a){function u(e,t){if(!i[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=i[e]={exports:{}},o[e][0].call(n.exports,function(t){return u(o[e][1][t]||t)},n,n.exports,r,o,i,a)}return i[e].exports}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(t=>(t=((t,e)=>{if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);if("object"!=o(n=n.call(t,e||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==o(t)?t:t+""))(r.key),r)}}function a(t,e,n){e=c(e);var r=t,e=u()?Reflect.construct(e,n||[],c(t).constructor):e.apply(t,n);if(!e||"object"!=o(e)&&"function"!=typeof e){if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function r(t){var n="function"==typeof Map?new Map:void 0;return function(t){if(null===t||!(e=>{try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}})(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return function(t,e,n){var r;return u()?Reflect.construct.apply(null,arguments):((r=[null]).push.apply(r,e),e=new(t.bind.apply(t,r)),n&&l(e,n.prototype),e)}(t,arguments,c(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),l(e,t)}(t)}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=t("../_modules/in-view"),p=["year","value","maximum"],f=(t=>{function e(){var t;if(this instanceof e)return(t=a(this,e)).attachShadow({mode:"open"}).innerHTML='\n  <style>\n    a {\n      display: grid;\n      grid-template-columns: 50px 1fr;\n      text-decoration: none;\n      color: white;\n      border-radius: 3px;\n      outline: none;\n\n      transition-duration: var(--transition-speed);\n      transition-timing-function: var(--transition-timing);\n\n      transition-property: background-color;\n    }\n    a:focus {\n      box-shadow: 0px 0px 0px 2px var(--palette--primary-grey), 0px 0px 0px 4px var(--palette--secondary-grey);\n    }\n    a:hover {\n      background-color: var(--palette--hover-grey);\n    }\n\n    .bar {\n      display: flex;\n      width: var(--bar-width, 1%);\n      height: 24px;\n      background-color: var(--palette--primary-color-light);\n      background: linear-gradient(to right, var(--palette--primary-color-dark), var(--palette--primary-color-light));\n      position: absolute;\n      left: 0;\n      top: 50%;\n      transform: translateY(-50%);\n      overflow: hidden;\n      border-radius: 3px;\n      align-items: center;\n\n      transition-duration: var(--transition-speed);\n      transition-timing-function: var(--transition-timing);\n\n      transition-property: width;\n    }\n\n    .bar slot {\n      color: black;\n      text-shadow: 0 1px 1px white;\n      position: absolute;\n      right: 0;\n      margin-right: 5px;\n    }\n\n    .bar-container {\n      display: block;\n      width: 100%;\n      overflow: hidden;\n      position: relative;\n    }\n\n    slot {\n      margin-left: 5px;\n      display: inline;\n      font-family: "Roboto", sans-serif;\n      font-size: 14px;\n      font-weight: 700;\n      display: block;\n    }\n  </style>\n\n  <a href="" aria-label="" itemprop="url" rel="noopener" target="blank">\n    <span slot="year">2000</span>\n    <span class="bar-container">\n      <span class="bar">\n        <slot>0</slot>\n      </span>\n    </span>\n  </a>\n',t.value=0,t.barElement=t.shadowRoot.querySelector(".bar"),t;throw new TypeError("Cannot call a class as a function")}var n,r=e;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");return r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&l(r,t),r=e,t=[{key:"observedAttributes",get:function(){return p}}],(n=[{key:"attributeChangedCallback",value:function(t,e,n){this.barElement=this.shadowRoot.querySelector(".bar"),"value"===t&&this.animateToValue(n),"year"===t&&(this.shadowRoot.querySelector('[slot="'.concat(t,'"]')).innerText=n,this.shadowRoot.querySelector("a").setAttribute("href","https://www.last.fm/user/imbanders/library/artists?from=".concat(n,"-01-01&rangetype=year"))),["year","value"].includes(t)&&(n=this.getAttribute("year"),t=this.getAttribute("value"),this.shadowRoot.querySelector("a").setAttribute("aria-label","".concat(t," scrobbles in the year ").concat(n)))}},{key:"animateToValue",value:function(n){var r=this.value,o=n-r,i=2e3,a=Date.now(),u=this.shadowRoot.querySelector("slot");function l(t){var t=Math.round(t),e=Math.floor(t/1e3),t="000".concat(Math.floor(t%1e3));return"".concat(e,",").concat(t.substring(t.length-3,t.length))}!function t(){var e=Date.now();u.innerHTML=l((e-a)/i*o+r),e<=a+i?requestAnimationFrame(t):u.innerHTML=l(n)}()}},{key:"updateWidth",value:function(){var t=this.barElement,e=Number(this.getAttribute("maximum")||1),n=Number(this.getAttribute("value")||0);setTimeout(function(){t.style.setProperty("--bar-width",n/e*100+"%")},1)}},{key:"connectedCallback",value:function(){s(this.barElement,this.updateWidth.bind(this),{rootMargin:"-70px 0px -20px 0px"})}}])&&i(r.prototype,n),t&&i(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r})(r(HTMLElement));e.exports.init=function(){customElements.define("year-listing",f)}},{"../_modules/in-view":2}],2:[function(t,e,n){e.exports=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{rootMargin:"0px 0px 0px 0px"},r=new Event("in-view"),o=new Event("out-of-view");window.IntersectionObserver?new IntersectionObserver(function(t){t.forEach(function(t){e(t.target,t.isIntersecting),t.isIntersecting?t.target.dispatchEvent(r):t.target.dispatchEvent(o)})},n).observe(t):(e(t,!0),t.dispatchEvent(r))}},{}]},{},[1]);