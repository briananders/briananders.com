nav.main {
  background-color: var(--primary-color, #{$primary-color});
  border-radius: 0;
  margin: 0;
  transition-property: opacity;
  z-index: 5;
  position: fixed;
  width: 100%;

  @include dark-mode {
    background-color: var(--primary-color-dark, #{$primary-color-dark});
  }

  &.shadow {
    box-shadow: 0 0 $s2 $primary-text-color;
  }

  a,
  a:visited,
  button {
    outline: none;
    padding: 0;
  }

  .content, .container {
    overflow: visible;
    align-items: center;
    display: flex;
    justify-content: space-between;
    min-height: $s11;
  }

  .menu {
    display: block;
    background-color: transparent;
    color: var(--primary-color-text, #{$primary-color-text});
    font-weight: $bold;
    padding: 4px 8px;
    border: none;
    border-radius: 0;
    font-family: $sans-serif;

    &:hover,
    &:focus {
      color: $primary-text-color;
      background-color: $google-white;

      @include dark-mode {
        background-color: $primary-text-color;
        color: $google-white;
      }
    }

    &[aria-expanded="true"] {
      box-shadow: 0 0 0 1px $google-white;
    }

    &::before {
      content: unset;
    }
  }

  .mobile-nav-tray {
    z-index: -1;
    position: absolute;
    transition-property: transform;
    top: $s11;
    right: $s8;
    display: grid;
    align-items: center;
    transition-duration: $transition-speed;
    transition-timing-function: ease;
    transform: scale(0) rotateX(90deg);
    padding: 0;
    transform-origin: 80% 0%;

    background-color: $google-white;
    color: $primary-text-color;
    box-shadow: 0 0 0 1px $google-white;


    @include dark-mode {
      background-color: $primary-text-color;
      color: $primary-color-text;
      box-shadow: 0 0 0 1px $primary-text-color;
    }

    &[aria-hidden="false"] {
      transform: scale(1) rotateX(0deg);
    }
  }

  [role="menuitem"] {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    height: $s9;
    padding: 0 $s4;
    transition: filter .3s ease;
    font-family: $sans-serif;
    color: $primary-color-text;
    background-color: var(--primary-color, #{$primary-color});

    @include dark-mode {
      background-color: var(--primary-color-dark, #{$primary-color-dark});
    }

    &:hover,
    &:focus {
      background-color: $google-white;
      color: $primary-text-color;
      box-shadow: inset 0 0 0 1px var(--primary-color, #{$primary-color});

      @include dark-mode {
        background-color: $primary-text-color;
        color: $google-white;
        box-shadow: inset 0 0 0 1px var(--primary-color-dark, #{$primary-color-dark});
      }
    }
  }

  .menu,
  [role="menuitem"] {
    &::before,
    &::after {
      display: none;
    }
  }


  a.brand {
    text-decoration: none;
    display: inline-block;
    color: $primary-color-text;
    position: relative;
    background: transparent;
    margin: 0;

    &,
    &::before,
    &::after {
      font-family: $sans-serif;
      font-weight: $regular;
      @include font-size(7);
    }

    &::before {
      content: attr(title);
      z-index: 1;
      position: absolute;
      height: 100%;
      width: 100%;
      right: 0;
      left: 0;
      top: 0;
      bottom: 0;
      background-color: $primary-color-text;
      color: $primary-text-color;
      transition: clip-path 1s ease;
      clip-path: circle(0px at 0%);
    }

    &::after {
      content: attr(title);
      z-index: 2;
      position: absolute;
      height: 100%;
      width: 100%;
      right: 0;
      left: 0;
      top: 0;
      bottom: 0;
      background-color: $primary-text-color;
      color: $primary-color-text;
      transition: clip-path 1s ease;
      clip-path: circle(0px at 100%);
    }

    &:hover,
    &:focus {
      &::before {
        clip-path: circle(400px at 0%);
      }
      &::after {
        clip-path: circle(400px at 100%);
      }
    }

    @include mq-max(375px) {
      @include font-size(5);
    }
  }
}